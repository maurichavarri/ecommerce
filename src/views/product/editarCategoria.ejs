<!DOCTYPE html>
<html lang="en">

<!-- Incluimos el Head -->
<%- include('../partials/head.ejs', {fileCss: 'editar'}) %>

<body>
    
    <!-- Incluimos el Header -->
    <%- include('../partials/header') %>

    <main>

        <section id="caja-padre">
            <div id="caja-titulo">
                <h1>CATEGORÍAS</h1>
            </div>
            <br>
            <a href="/producto/administrar">
                <div id="caja-boton-volver">Volver al Panel de Administración</div>
            </a>
            <br>
            <% if (categorias.length != 0) { %>
                <% categorias.forEach((categ) => { %>
                    <div class="caja-categoria">
                        <div class="caja-imagen">
                            <img src="/img/categorias/<%= categ.img %>" alt="imagen categoria">
                        </div>
                        <div class="caja-nombre">
                            <%= categ.nombre %>
                        </div>
                        <div class="caja-botones">
                            <a href="/producto/administrar/editar-categoria/<%= categ.categoria_id %>"><i class="fa-solid fa-pencil"></i></a>
                            <a href="/producto/administrar/archivar-categoria/<%= categ.categoria_id %>"><i class="fa-solid fa-ban"></i></a>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <script>
                    let aviso = document.createElement('h3');
                    aviso.innerHTML = "No hay categorías registradas o activas."
                    aviso.classList.add('aviso');
                    document.getElementById('caja-titulo').appendChild(aviso);
                </script>
            <% } %>
        </section>

        <% if (categoriasBorradas.length != 0) { %>
            <section id="caja-padre">
                <div id="caja-titulo">
                    <h1>CATEGORÍAS ARCHIVADAS</h1>
                </div>
                <br>
                <% categoriasBorradas.forEach((categ) => { %>
                    <div class="caja-categoria">
                        <div class="caja-imagen">
                            <img src="/img/categorias/<%= categ.img %>" alt="imagen categoria">
                        </div>
                        <div class="caja-nombre">
                            <%= categ.nombre %>
                        </div>
                        <div class="caja-botones">
                            <a href="/producto/administrar/restaurar-categoria/<%= categ.categoria_id %>"><i class="fa-solid fa-arrows-rotate"></i></a>
                            <a href="/producto/administrar/borrar-categoria/<%= categ.categoria_id %>" class="boton-eliminar"><i class="fa-regular fa-trash-can"></i></a>
                        </div>
                    </div>
                <% }) %>
            </section>
        <% } %>
        
    </main>

</body>
</html>